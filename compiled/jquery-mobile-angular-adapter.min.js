/*! jquery-mobile-angular-adapter - v1.3.2-SNAPSHOT - 2013-11-27
* https://github.com/opitzconsulting/jquery-mobile-angular-adapter
* Copyright (c) 2013 Tobias Bosch; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery","angular","jquery.mobile"],a):a(window.jQuery,window.angular)}(function(a,b){!function(a){function b(a,b,c){var d=a[b];a[b]=function(){return c(d,this,arguments)}}function c(b){function c(){for(e=0;e<f.length;e++)f[e]()}function d(b,c){function d(){if(!h){var a=this,b=arguments;f.push(function(){a[c].apply(a,b)})}h=!0;try{return e.apply(this,arguments)}finally{h=!1}}var e=a.fn[b];a.fn[b]=d,g.push(function(){a.fn[b]=e})}var e,f=[],g=[],h=!1;d("on","off");try{b()}finally{for(e=0;e<g.length;e++)g[e]()}return c}a(document).on("pageremove","div",function(b){a.mobile.activePage&&a.mobile.activePage[0]===this&&b.preventDefault()}),a(document).on("pagebeforechange",function(b,c){a.mobile.activePage&&c.toPage[0]===a.mobile.activePage[0]&&"none"!==c.options.transition&&(c.options.transition="fade")}),b(a.mobile.selectmenu.prototype,"destroy",function(a,b,c){a.apply(b,c);var d=b.menuPage;d&&d.remove()}),a.fn.controlgroup&&a.mobile.document.bind("pagecreate create",function(b){a.mobile.controlgroup.prototype.enhanceWithin(b.target,!0)}),b(a.fn,"grid",function(a,b,c){return 0!==b.children().length?a.apply(b,c):void 0}),b(a.mobile.navbar.prototype,"_create",function(a,b,d){var e;return b.unbindListeners=c(function(){e=a.apply(b,d)}),e}),a.mobile.navbar.prototype.refresh=function(){this.unbindListeners&&(this.unbindListeners(),this.unbindListeners=null);var a=this.element,b=a.find("ul"),c=b.children("li");b.removeClass(function(a,b){return(b.match(/\bui-grid-\S+/g)||[]).join(" ")}),c.removeClass(function(a,b){return(b.match(/\bui-block-\S+/g)||[]).join(" ")}),this._create()},a.mobile.rangeslider.prototype._setOption=function(){a.Widget.prototype._setOption.apply(this,arguments),this.refresh()}}(window.jQuery),function(a,b){function c(){var a=[];return{addHandler:function(b){a.push(b)},$get:["$injector",function(b){return function(c){var d;for(d=0;d<a.length;d++)c=b.invoke(a[d],this,{element:c});return c}}]}}function d(a){a.decorator("$compile",["$precompile","$delegate",function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return c[0]=a(c[0]),b.apply(this,c)}}])}function e(b,c){var d=a("<div>"+b+"</div>");return c(d.contents()),d.html()}function f(a,b){var c={},d=a.directive;a.directive=function(a,b){var f=function(a,d){var f=d.invoke(b);return f.template?f.template=e(f.template,a):f.templateUrl&&(c[f.templateUrl]=!0),f};return d.call(this,a,["$precompile","$injector",f])},b.decorator("$http",["$q","$delegate","$precompile",function(a,b,d){var f=b.get;return b.get=function(a){var b=f.apply(this,arguments);if(c[a]){var g=b.success;b.success=function(a){var b=function(){var b=Array.prototype.slice.call(arguments),c=b[0];return b[0]=e(c,d),a.apply(this,b)};return g(b)}}return b},b}])}var g=b.module("ng");g.provider("$precompile",c),g.config(["$provide",d]),g.config(["$compileProvider","$provide",f])}(a,b),function(a){function b(a){return a.$disconnect=function(){if(this.$root!==this){var a=this.$parent;this.$$disconnected=!0,a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$$nextSibling=this.$$prevSibling=null}},a.$reconnect=function(){if(this.$root!==this){var a=this;if(a.$$disconnected){var b=a.$parent;a.$$disconnected=!1,a.$$prevSibling=b.$$childTail,b.$$childHead?(b.$$childTail.$$nextSibling=a,b.$$childTail=a):b.$$childHead=b.$$childTail=a}}},a}function c(a){function b(a,b,c){a.hasOwnProperty(b)||(a[b]=[]),a[b].push(c)}function c(a,b,c,d){var e,f;if(a.hasOwnProperty(b))for(f=a[b],d&&(a[b]=[]),e=0;e<f.length;e++)f[e].apply(null,c)}var d=a.$digest;return a.$preDigest=function(a){b(this,"$$preDigestListeners",a)},a.$postDigestOne=function(a){b(this,"$$postDigestOneListeners",a)},a.$postDigestAlways=function(a){b(this,"$$postDigestAlwaysListeners",a)},a.$digest=function(){function a(){e=!0}for(var b,e=!0;e;)e=!1,c(this,"$$preDigestListeners",[]),b=d.apply(this,arguments),c(this,"$$postDigestOneListeners",[a],!0),c(this,"$$postDigestAlwaysListeners",[a]);return b},a}function d(a){var b=a.$apply;a.$apply=function(){return a.$$phase?a.$eval.apply(this,arguments):b.apply(this,arguments)};var c=a.$digest;return a.$digest=function(){if(!a.$$phase){c.apply(this,arguments)}},a}var e=a.module("ng");e.config(["$provide",function(a){a.decorator("$rootScope",["$delegate",b]),a.decorator("$rootScope",["$delegate",c]),a.decorator("$rootScope",["$delegate",d])}])}(b),function(a,b){function c(b){var c;b.$preDigest(function(){var b=a.mobile.activePage,d=b&&b.scope();c&&c!==d&&c.$disconnect(),c=d,d&&d.$reconnect()}),b.$postDigestAlways(function(){for(var c=l.length;l.length;){var d=l.shift();d.$disconnect()}if(c&&!k){k=!0;var e=a.mobile.changePage;a.mobile.changePage=function(){};try{a.mobile.initializePage()}finally{a.mobile.changePage=e}b.$broadcast("jqmInit")}})}function d(b){a(document).on("pagebeforeshow",function(c){b.$broadcast("pagebeforeshow",c);var d=a(c.target).scope();d&&d.$$disconnected&&d.$broadcast("pagebeforeshow",c),b.$$phase?b.$postDigestOne(function(a){a()}):b.$digest()})}function e(a,b){function c(){var c=b.find(d).add(b.filter(d));c.attr("ngm-page","true"),a.markJqmWidgetCreation(function(){a.preventJqmWidgetCreation(function(){c.length>0?c.page():b.parent().trigger("create")})}),c.page("destroy")}var d=':jqmData(role="page"), :jqmData(role="dialog")',e=b[0].parentNode;for(f(a,b[0],c);b[0].parentNode!==e;)b=b.eq(0).parent();return b}function f(b,c,d){if(!c.parentNode)return d();for(;c.parentNode&&1===c.parentNode.nodeType;)c=c.parentNode;var e=c.parentNode;e!==document&&(m||(m=a('<div data-role="page"></div>'),h(b,m)),a("body").append(m),m.append(c));try{return d()}finally{e!==document&&(e&&e.appendChild(c),m[0].parentNode.removeChild(m[0]))}}function g(b){return{restrict:"A",scope:!0,compile:function(c){return c.removeAttr("ngm-page"),{pre:function(c,d){a.mobile.pageContainer||(a.mobile.pageContainer=d.parent().addClass("ui-mobile-viewport")),h(b,d),l.push(c)}}}}}function h(b,c){b.preventJqmWidgetCreation(function(){var b=a.mobile.page.prototype.widgetEventPrefix;a.mobile.page.prototype.widgetEventPrefix="noop",c.page(),a.mobile.page.prototype.widgetEventPrefix=b})}function i(b,c,d){function e(b){var c=b.jqmData("url"),d=a.mobile.path.get(c),e=/^(\w+:|#|\/)/;b.find("a").each(function(){var b=a(this),c=b.attr("href");c&&c.length>0&&!e.test(c)&&b.attr("href",d+c)})}d.patchJq("page",function(){return d.preventJqmWidgetCreation()||this.data(a.mobile.page.prototype.widgetFullName)||this.attr("data-"+a.mobile.ns+"external-page")&&(e(this),c(this)(b)),a.fn.orig.page.apply(this,arguments)})}var j=b.module("ng"),k=!1,l=[];return a.mobile.autoInitializePage=!1,j.config(["$precompileProvider",function(a){a.addHandler(["jqmNgWidget","element",e])}]),j.run(["$rootScope",c]),j.run(["$rootScope","$compile","jqmNgWidget","$browser",i]),j.run(["$rootScope",d]),j.directive("ngmPage",["jqmNgWidget","$timeout",g]),void 0;var m}(a,b),function(a,b){function c(b){var c={},h={},k={widget:function(a,d){if(1===arguments.length)return c[a];var f=!!c[a];c[a]=d,f||e(a,b)},$get:["$injector",function(b){return{lookup:function(a){return h[a]},_init:function(){var a,d;for(a in c)d=h[a]=b.invoke(c[a]),f(a,d)},preventJqmWidgetCreation:i,markJqmWidgetCreation:j,patchJq:g,createWidget:function(b,c,e){var f=JSON.parse(e[d(b)]);l(function(){a.fn.orig[b].apply(c,f)},c)},bindDefaultAttrsAndEvents:n,bindDisabledAttribute:o,refreshAfterNgModelRender:p,refreshOnChildrenChange:r,triggerAsyncRefresh:s}}]};return k}function d(a){return"ngm"+a[0].toUpperCase()+a.substring(1)}function e(a,b){function c(b){return{restrict:"A",priority:0,require:["?ngModel","?select"],compile:function(c,d){JSON.parse(d[e]);return{pre:function(c,d,e,f){var g=b.lookup(a);g.preLink&&g.preLink(a,c,d,e,f[0],f[1])},post:function(c,d,e,f){var g=b.lookup(a);g.link(a,c,d,e,f[0],f[1])}}}}}var e=d(a);b.directive(e,["jqmNgWidget",c])}function f(b,c){var d="data-ngm-"+b;g(b,function(){if(j())for(var e=Array.prototype.slice.call(arguments),f=this,g=0;g<f.length;g++){var h=f.eq(g);c&&c.precompile&&c.precompile(h,e),h.attr(d,JSON.stringify(e))}return i()?!1:a.fn.orig[b].apply(this,arguments)})}function g(b,c){a.fn.orig[b]=a.fn.orig[b]||a.fn[b],a.fn[b]=c}function h(a,b){if(!b)return u[a];var c=u[a];u[a]=!0;var d=b();return u[a]=c,d}function i(a){return h("preventJqmWidgetCreation",a)}function j(a){return h("markJqmWidgetCreation",a)}function k(a){return h("preventDomManipWrapper",a)}function l(b,c){var d,e,f,g,h=Array.prototype.slice.call(c.parents());for(h.unshift(c[0]),k(b),d=Array.prototype.slice.call(c.parents()),d.unshift(c[0]),e=0;e<h.length;e++)if(f=h[h.length-e-1],g=d[d.length-e-1],f!==g){a(f).data("wrapperDelegate",a(g));break}}function m(b,c){var d=a.fn[b];a.fn[b]=function(){if(m.recurse||k()||c&&!c.apply(this,arguments))return d.apply(this,arguments);try{m.recurse=!0;var a,e,f=Array.prototype.slice.call(arguments),g=f[0];return a=this.data("wrapperDelegate"),a&&"remove"===b&&d.apply(this,arguments),g&&"function"==typeof g.data&&(e=g.data("wrapperDelegate"),f[0]=e||f[0]),d.apply(a||this,f)}finally{m.recurse=!1}}}function n(b,c,d,e,f){var g=d.data(a.mobile[b].prototype.widgetFullName);g&&(g.disable&&g.enable&&(e.disabled||e.ngDisabled)&&o(b,d,e),g.refresh&&(r(b,c,d),f&&p(b,c,d,f)))}function o(a,b,c){c.$observe("disabled",function(c){c?b[a]("disable"):b[a]("enable")})}function p(a,b,c,d){q(d,"$render",function(){s(a,b,c,"refresh")})}function q(a,b,c){var d="_listeners"+b;if(!a[d]){a[d]=[];var e=a[b];a[b]=function(){for(var b=e.apply(this,arguments),c=0;c<a[d].length;c++)a[d][c]();return b}}a[d].push(c)}function r(a,b,c){c.bind("$childrenChanged",function(){s(a,b,c,"refresh")})}function s(a,b,c,d){var e="_refresh"+a,f=(c.data(e)||0)+1;c.data(e,f),b.$root.$postDigestOne(function(){c.data(e)===f&&c[a](d)})}var t=b.module("ng"),u={};a.fn.orig={},t.provider("jqmNgWidget",["$compileProvider",c]),t.run(["jqmNgWidget",function(a){a._init()}]),m("after"),m("before"),m("css",function(a){return"display"===a&&arguments.length>=2}),m("remove")}(window.jQuery,window.angular),function(a,b){function c(a){return{link:function(b,c,d,e,f){a.createWidget(b,d,e),a.bindDefaultAttrsAndEvents(b,c,d,e,f)}}}function d(a){return{preLink:function(a,b,c,d){"range"===d.type&&(d.type="number")},link:function(b,c,d,e,f){a.createWidget(b,d,e),a.bindDefaultAttrsAndEvents(b,c,d,e,f)}}}function e(a,b){return{link:function(c,d,e,f,h){a.createWidget(c,e,f),a.bindDefaultAttrsAndEvents(c,d,e,f,h),g("popup",b,d,e,f,"_")}}}function f(a,b){return{link:function(c,d,e,f,h){a.createWidget(c,e,f),a.bindDefaultAttrsAndEvents(c,d,e,f,h),g("panel",b,d,e,f,"")}}}function g(a,c,d,e,f,g){function h(c,f){var g=e.data(b.mobile[a].prototype.widgetFullName),h=g[c];g[c]=function(){var a=h.apply(this,arguments);return j||(j=!0,d.$apply(function(){l(d,f)}),j=!1),a}}function i(b){j||(j=!0,b?e[a]("open"):e[a]("close"),j=!1)}var j=!1;if(f.opened){var k=c(f.opened),l=k.assign;d.$watch(k,i),l&&(h(g+"open",!0),h(g+"close",!1))}}function h(a,b){function c(a,b){a.$root.$postDigestOne(function(a){a(),b()})}function d(a,b,c){if(b&&"undefined"!=typeof a.min&&void 0===c){var d=b.$pristine;b.$pristine=!1,b.$setViewValue(a.min),b.$render(),b.$pristine=d}}function e(a,b){var c=a.children("option"),d=c.eq(0).val();if("?"===d||0===d.indexOf("? ")){c.eq(1).prop("selected",!0);var e=b.$pristine;b.$pristine=!1,a.trigger("change"),b.$pristine=e}}return{link:function(f,g,h,i,j,k){if(k)c(g,function(){e(h,j),a.createWidget(f,h,i),a.bindDefaultAttrsAndEvents(f,g,h,i,j)});else{var l;j&&(l=b(i.ngModel)(g)),d(i,j,l),a.createWidget(f,h,i),a.bindDefaultAttrsAndEvents(f,g,h,i,j)}}}}function i(a){function c(a){var c=b(a).closest("label"),d=b(a).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')");0===d.length&&(d=a.parent());var e=c.length?c:d.find("label").filter("[for='"+a[0].id+"']");0===e.length?a.attr("ngm-no-label","true"):e.append(a)}return{precompile:c,link:function(b,c,d,e,f){var g=d.parent("label");if(!e.ngmNoLabel&&0===g.length)throw new Error("Don't use ng-repeat or other conditional directives on checkboxes/radiobuttons directly. Instead, wrap the input into a label and put the directive on that input!");a.createWidget(b,d,e),a.bindDefaultAttrsAndEvents(b,c,d,e,f),e.$observe("checked",function(){a.triggerAsyncRefresh(b,c,d,"refresh")})}}}function j(a){return{precompile:function(a){if("INPUT"===a[0].nodeName.toUpperCase()){var b=a.val();a.append(document.createTextNode(b))}},link:function(b,c,d,e,f){var g=d.contents();a.createWidget(b,d,e);var h=d.parent().find(".ui-btn-text");h.empty(),h.append(g),a.bindDefaultAttrsAndEvents(b,c,d,e,f)}}}function k(a,b){function c(a,c,d){function e(a){g||(g=!0,a?c.triggerHandler("collapse"):c.triggerHandler("expand"),g=!1)}function f(b,d){c.bind(b,function(b){g||(g=!0,c[0]===b.target&&a.$apply(function(){i(a,d)}),g=!1)})}var g=!1;if(d.collapsed){var h=b(d.collapsed),i=h.assign;a.$watch(h,e),i&&(f("collapse",!0),f("expand",!1))}}return{link:function(b,d,e,f,g){a.createWidget(b,e,f),a.bindDefaultAttrsAndEvents(b,d,e,f,g),c(d,e,f)}}}function l(a){function c(a){function c(a,c){this.element=a,this.options=b.widget.extend({},this.options,this._getCreateOptions(),c)}c.prototype=b.mobile.dialog.prototype;var d=new c(a,{}),e=d.options,f=e.closeBtn;if("none"!==f){var g="left"===f?"left":"right",h=b("<a href='#' class='ui-btn-"+g+"' data-"+b.mobile.ns+"icon='delete' data-"+b.mobile.ns+"iconpos='notext'>"+e.closeBtnText+"</a>");a.find(":jqmData(role='header')").first().prepend(h)}}return{precompile:c,link:function(b,c,d,e,f){a.createWidget(b,d,e);var g=d.find(':jqmData(role="header") a:jqmData(icon="delete")');g.eq(1).bind("click",function(){d.dialog("close")}),g.eq(0).remove(),a.bindDefaultAttrsAndEvents(b,c,d,e,f)}}}function m(a){return{link:function(b,c,d,e,f){a.createWidget(b,d,e),a.bindDefaultAttrsAndEvents(b,c,d,e,f),d.bind("$childrenChanged",function(){a.triggerAsyncRefresh(b,c,d,{})})}}}function n(a){return{link:function(c,d,e,f,g){var h,i,j;a.createWidget(c,e,f),h=e.data(b.mobile[c].prototype.widgetFullName),h&&"columntoggle"===h.options.mode&&(i=(e.attr("id")||h.options.classes.popup)+"-popup",j=b("#"+i),j.trigger("create")),a.bindDefaultAttrsAndEvents(c,d,e,f,g)}}}var o=a.module("ng");o.config(["jqmNgWidgetProvider",function(g){var o,p;for(o in b.mobile)p=b.mobile[o],"page"!==o&&a.isFunction(p)&&p.prototype.widget&&g.widget(o,["jqmNgWidget",c]);g.widget("checkboxradio",["jqmNgWidget",i]),g.widget("button",["jqmNgWidget",j]),g.widget("collapsible",["jqmNgWidget","$parse",k]),g.widget("dialog",["jqmNgWidget",l]),g.widget("controlgroup",["jqmNgWidget",m]),g.widget("textinput",["jqmNgWidget",d]),g.widget("slider",["jqmNgWidget","$parse",h]),g.widget("popup",["jqmNgWidget","$parse",e]),g.widget("panel",["jqmNgWidget","$parse",f]),g.widget("table",["jqmNgWidget",n])}])}(b,a),function(a,b){function c(b){function c(b){function c(a){return function(){window.setTimeout(a,0)}}var d=b.onUrlChange;return b.onUrlChange=function(){var b=a.fn.bind;a.fn.bind=function(a,d){return this[0]===window?(d=c(d),b.call(this,a,d)):b.apply(this,arguments)};try{return d.apply(this,arguments)}finally{a.fn.bind=b}},b}function d(a){return a.back=function(){return a.$$replace="back",this},a}function e(a){var b=a.baseHref;return a.baseHref=function(){var a=b.call(this);return a?a.replace(/^file?\:\/\/[^\/]*/,""):a},a}function f(a){var b=a.url;return a.url=function(){var a=b.apply(this,arguments);return 0===arguments.length&&(a=a.replace(/%23/g,"#"),a=a.replace(/ /g,"%20")),a},a}function g(a,b,c,d){var e,f=a.url,g=a.onUrlChange,h=null;return g.call(a,function(a){if(h){var c=d.get("$location");c.routeOverride(h)}b.onUrlChangeBrowser(a),e&&e.apply(this,arguments)}),a.onUrlChange=function(a){g.call(this,function(){e||a.apply(this,arguments)})},a.stopOnUrlChangeListeners=function(a){e=a},b.removePastEntries=function(c){var d=b.urlStack[b.activeIndex],e=b.activeIndex-c,f=b.urlStack[e];d.url!==f.url?a.stopOnUrlChangeListeners(function(){d?(a.url(d.url,!0),b.urlStack[e]=d,d=null):a.stopOnUrlChangeListeners(null)}):b.urlStack[e]=d,b.go(-c)},a.url=function(a,c){if(a){var d=f.call(this,a,c===!0);return b.onUrlChangeProgrammatically(a,c===!0,"back"===c),d}return f.apply(this,arguments)},a}b.decorator("$browser",["$delegate",c]),b.decorator("$browser",["$delegate",f]),b.decorator("$browser",["$delegate",e]),b.decorator("$browser",["$delegate","$history","$rootScope","$injector",g]),b.decorator("$location",["$delegate","$history",d])}function d(){function a(a){window.setTimeout(function(){window.history.go(a)},20)}function b(){g.go(-1)}function c(a){var b,c=g.urlStack;for(b=0;b<c.length;b++)if(c[b].url===a)return b;return-1}function d(a){for(var b=g.activeIndex-1;b>=0&&g.urlStack[b].url!==a;)b--;return b}function e(a){var b=g.activeIndex;g.activeIndex=c(a),-1===g.activeIndex?f(a,!1):g.lastIndexFromUrlChange=b}function f(a,b,c){var e=g.urlStack[g.activeIndex];if(e&&e.url===a||(g.lastIndexFromUrlChange=-1,b||g.activeIndex++,g.urlStack.splice(g.activeIndex,g.urlStack.length-g.activeIndex),g.urlStack.push({url:a})),c){var f=g.activeIndex,h=d(a);-1!==h&&-1!==f&&g.removePastEntries(f-h)}}var g;return g={go:a,goBack:b,urlStack:[],indexOf:c,activeIndex:-1,fromUrlChange:!1,onUrlChangeProgrammatically:f,onUrlChangeBrowser:e}}var e=b.module("ng");a.mobile._registerBrowserDecorators=a.mobile._registerBrowserDecorators||[],a.mobile._registerBrowserDecorators.push(c),e.config(["$provide",function(a){c(a)}]),e.factory("$history",d)}(window.jQuery,window.angular),function(a,b){function c(){s.directive("a",o),s.config(["$locationProvider",p])}function d(a){a.routeOverride=function(b){return 0===arguments.length?a.$$routeOverride:(a.$$routeOverride=b,this)};var b=a.hash();return b&&0===b.indexOf("!")&&(a.search({}),a.url(b.substring(1))),a}function e(){b.mobile.pushStateEnabled=!1,b.mobile.hashListeningEnabled=!1,b.mobile.linkBindingEnabled=!1,b.mobile.changePage.defaults.changeHash=!1,b.mobile._handleHashChange=function(){},b.support.dynamicBaseTag&&(b.support.dynamicBaseTag=!1,b.mobile.base.set=function(){}),b.mobile.changePage.defaults.allowSamePageTransition=!0;var a=b.mobile.urlHistory.add;b.mobile.urlHistory.add=function(){var c=a.apply(this,arguments),d=b.mobile.urlHistory,e=d.stack,f=e.length-3;return e.length>3&&(e.splice(0,f),d.activeIndex-=f,d.activeIndex<0&&(d.activeIndex=0)),c}}function f(a){var b=a.when;a.when=function(a,c){if(!c.templateUrl&&!c.redirectTo)throw new Error("Only routes with templateUrl or redirectTo are allowed with the jqm adapter!");if(c.controller)throw new Error("Controllers are not allowed on routes with the jqm adapter. However, you may use the onActivate parameter");return b.apply(this,arguments)},a.otherwise({templateUrl:r})}function g(b,c){b.$on("$routeChangeStart",function(b,d){d.jqmOptions=a.extend({},d.jqmOptions);var e=c.$$routeOverride;delete c.$$routeOverride,e&&(e.onActivate&&(d.onActivate=e.onActivate),a.extend(d.jqmOptions,e.jqmOptions),d.resolve=d.resolve||{},a.forEach(e.locals,function(a,b){d.resolve[b]=function(){return a}})),d.ngmTemplateUrl=d.templateUrl,d.templateUrl=void 0})}function h(c,d,e,f,g){function h(c,f){var h=b(f.target),k=h.data("lastNavProps");if(k&&k.navByNg){var m,n=d.current,o=g.urlStack[g.activeIndex];o&&(b.mobile.urlHistory.getActive().lastScroll=o.lastScroll),i(h)?o.tempUrl=!0:j(h)&&l(g),n&&n.onActivate&&(m=a.extend({},n.locals,e),h.scope().$eval(n.onActivate,m))}}function k(a,b){"object"==typeof b.toPage&&b.toPage.data("lastNavProps",b.options)}function l(a){for(var b=a.activeIndex-1,c=0;b>=0&&a.urlStack[b].tempUrl;)c++,b--;c>0&&a.removePastEntries(c)}b(document).on("pagebeforechange",k),c.$on("pagebeforeshow",h)}function i(a){return a&&"dialog"===a.jqmData("role")}function j(a){return a&&"page"===a.jqmData("role")}function k(a,c,d,e,f){a.$on("$routeChangeSuccess",function(){function g(){b.mobile.changePage(j,k)}function h(a){var c,d=f.urlStack[f.activeIndex];if(d){if(f.lastIndexFromUrlChange>=0){c=f.urlStack[f.lastIndexFromUrlChange];var e;f.lastIndexFromUrlChange>f.activeIndex?(a.reverse=!0,e=c):e=d,e&&e.jqmOptions&&(a.transition=e.jqmOptions.transition)}else c=f.urlStack[f.activeIndex-1],d.jqmOptions=a;c&&(c.lastScroll=b.mobile.urlHistory.getActive().lastScroll)}}var i=c.current;if(!i.redirectTo){var j=(b(document),i.ngmTemplateUrl);j===r&&(j=d.url(),j&&"/"===j.charAt(0)&&(j=j.slice(1))),j=b.mobile.path.makeUrlAbsolute(j,e.baseHref());var k=i.jqmOptions||{};h(k),k.navByNg=!0,b.mobile.firstPage?g():a.$on("jqmInit",g)}})}function l(a,c,d){var e=b.mobile.dialog.prototype;e.origClose=e.origClose||e.close,e.close=function(){var c=b.mobile.activePage.data("lastNavProps");this._isCloseable&&c&&c.navByNg?(this._isCloseable=!1,a.$apply(function(){d.goBack()})):this.origClose()}}function m(a,c,d,e,f){var g=c.jqmData("rel");if("back"===g)a.preventDefault(),d.$apply(function(){f.goBack()});else if("popup"===g)a.preventDefault(),d.$apply(function(){var a=b.mobile.activePage.find(c.attr("href"));if(a.length){var d=c.offset();a.popup("open",{x:d.left+c.outerWidth()/2,y:d.top+c.outerHeight()/2,transition:c.jqmData("transition"),positionTo:c.jqmData("position-to")})}});else if(n(c))a.preventDefault();else{var h=c.prop("href"),i=e.$$rewriteAppUrl(h),j=c.jqmData("ajax");if(h&&!c.attr("target")&&j!==!1&&"external"!==g&&i){e.$$parse(i),a.preventDefault(),window.angular["ff-684208-preventDefault"]=!0;var k=e.routeOverride()||{},l=k.jqmOptions={link:c},m=c.jqmData("transition");m&&(l.transition=m);var o=c.jqmData("direction");o&&(l.reverse="reverse"===o),e.routeOverride(k),d.$apply()}}}function n(a){var b=a.attr("href");return"#"===b||!b}function o(){return{restrict:"E",compile:function(a,b){n(a)&&b.$set("href","#")}}}function p(c){var d=c.$get;c.$get=["$injector","$rootElement","$rootScope","$browser","$history",function(e,f,g,h,i){function j(c){if(!c.ctrlKey&&!c.metaKey&&2!==c.which){for(var d=b(c.target);"a"!==a.lowercase(d[0].nodeName);)if(d[0]===f[0]||!(d=d.parent())[0])return;m(c,d,g,k,i)}}var k=q(f,function(){return e.invoke(d,c)});return b(function(){b(document).bind("click",j)}),k}]}function q(a,c){var d=b.fn.bind;try{return b.fn.bind=function(b){return"click"!==b||this[0]!==a[0]?d.apply(this,arguments):void 0},c()}finally{b.fn.bind=d}}var r="DEFAULT_JQM_PAGE",s=a.module("ng");e(),s.config(["$locationProvider",function(a){a.html5Mode(!0),a.hashPrefix("!")}]),s.directive("ngView",function(){throw new Error("ngView is not allowed and not needed with the jqm adapter.")}),c(),s.config(["$routeProvider",f]),s.run(["$rootScope","$location",g]),s.run(["$rootScope","$route","$routeParams","$location","$history",h]),s.run(["$rootScope","$route","$location","$browser","$history",k]),s.run(["$rootScope","$location","$history",l]),s.config(["$provide",function(a){a.decorator("$location",["$delegate",d])}])}(b,a),function(a,b){function c(a,c){var d;if(!!a^!!c)return!1;if(!a)return!0;if(b.isArray(a)&&a.length!==c.length)return!1;for(d in a)if(c[d]!==a[d])return!1;for(d in c)if(c[d]!==a[d])return!1;return!0}function d(a){if(!a)return a;var c;c=b.isArray(a)?[]:{};for(var d in a)c[d]=a[d];return c}var e=b.module("ng");e.directive("ngRepeat",function(){return{priority:1e3,compile:function(){return{pre:function(a,b,e){var f=e.ngRepeat,g=f.match(/^.+in\s+(.*)\s*$/);if(!g)throw new Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+f+"'.");var h,i=g[1],j=0;a.$watch(function(){var b=a.$eval(i);return c(b,h)||(h=d(b),j++),j},function(){b.parent().trigger("$childrenChanged")})}}}}})}(a,b),function(a,b){function c(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}var d=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,e=b.module("ng");e.directive("ngOptions",["$parse",function(a){return{require:["select","?ngModel"],link:function(b,e,f,g){function h(){var a,d,e,f=[],g=o(b)||[],h=m?c(g):g,i={};for(d=h.length,e=0;d>e;e++){{g[e]}i[l]=g[m?i[m]=h[e]:e],a=n(b,i),f.push({id:m?h[e]:e,label:k(b,i),optionGroup:a})}return f}if(g[1]){var i,j=f.ngOptions;if(!(i=j.match(d)))throw new Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+j+"'.");var k=a(i[2]||i[1]),l=i[4]||i[6],m=i[5],n=a(i[3]||""),o=(a(i[2]?i[1]:l),a(i[7]));b.$watch(h,function(){e.trigger("$childrenChanged")},!0)}}}}])}(a,b),function(a){var b=a.module("ng");b.directive("option",["$interpolate",function(a){return{restrict:"E",compile:function(b){var c=a(b.text(),!0),d=b.attr("value");return d!==!1&&"undefined"!=typeof d&&(d=a(b.attr("value"),!0)),function(a,b){null!=c&&a.$watch(c,function(){b.trigger("$childrenChanged")}),null!=d&&a.$watch(d,function(){b.trigger("$childrenChanged")})}}}}])}(b),function(b){var c=b.module("ng");c.directive("li",function(){return{restrict:"E",compile:function(){return function(b,c){c.bind("$childrenChanged",function(){c.removeClass(function(a,b){return(b.match(/\bui-\S+/g)||[]).join(" ")});var b=c.data("buttonElements");if(b){for(var d=b.text;d.firstChild;)c[0].appendChild(d.firstChild);a(b.inner).remove()}c.removeData("buttonElements")})}}}})}(b),function(a){var b=a.module("ng");b.directive("ngSwitch",function(){return{restrict:"EA",compile:function(a,b){var c=b.ngSwitch||b.on;return function(a,b){a.$watch(c,function(){b.trigger("$childrenChanged")})}}}})}(b),function(a){var b=a.module("ng");b.directive("ngInclude",function(){return{restrict:"ECA",compile:function(a,b){var c=b.ngInclude||b.src;return function(a,b){a.$watch(c,function(){b.trigger("$childrenChanged")}),a.$on("$includeContentLoaded",function(){b.trigger("$childrenChanged")})}}}})}(b),function(a,b){function c(){return{restrict:"E",require:"?ngModel",compile:function(a){var b=a.attr("type");return{pre:function(a,c,d,e){if(e){var f=[];"date"===b&&f.push("blur"),f.push("change");var g=c.bind;c.bind=function(a,b){if(-1!==a.indexOf("input")||-1!==a.indexOf("change"))for(var c=0;c<f.length;c++){var d=f[c];-1===a.indexOf(d)&&(a+=" "+d)}return g.call(this,a,b)}}}}}}}var d=b.module("ng");d.directive("input",c),d.directive("textarea",c)}(a,b),function(a){var b={transclude:"element",priority:1e3,terminal:!0,compile:function(a,b,c){return function(a,b,d){b[0].doNotMove=!0;var e,f,g=d.ngmIf;a.$watch(g,function(d){e&&(e.remove(),e=null),f&&(f.$destroy(),f=null),d&&(f=a.$new(),c(f,function(a){e=a,b.after(a)})),b.parent().trigger("$childrenChanged")})}}},c=a.module("ng");c.directive("ngmIf",function(){return b})}(b),function(a){function b(a,b,c,d,e,f){var g=b(f);e?a.$on(d,function(a,b){g(a.currentScope,{$event:b})}):c.bind(d,function(b){a.$apply(function(){g(a,{$event:b})}),"v"===d.charAt(0)&&b.preventDefault()})}function c(a,c,d){g.directive(a,["$parse",function(e){return function(f,g,h){var i=h[a];b(f,e,g,c,d,i)}}])}var d,e,f,g=a.module("ng"),h=["tap","taphold","swipe","swiperight","swipeleft","vmouseover","vmouseout","vmousedown","vmousemove","vmouseup","vclick","vmousecancel","orientationchange","scrollstart","scrollend","pagebeforeshow","pagebeforehide","pageshow","pagehide"],i={pagebeforeshow:!0};for(f=0;f<h.length;f++)d=h[f],e="ngm"+d.substring(0,1).toUpperCase()+d.substring(1),c(e,d,i[d])}(b),function(a){function b(a){return a[e]=a[e]||{}}function c(a,c,d,e){var f=b(a),g=f[c];return g||(g=a.$new(),d(c,{$scope:g}),f[c]=g,g.$$referenceCount=0),g.$$referenceCount++,e.bind("$destroy",function(){g.$$referenceCount--,0===g.$$referenceCount&&(g.$destroy(),delete f[c])}),g}function d(a){for(var b,c=/([^\s,:]+)\s*:\s*([^\s,:]+)/g,d=!1,e={};b=c.exec(a);)d=!0,e[b[1]]=b[2];if(!d)throw"Expression "+a+" needs to have the syntax <name>:<controller>,...";return e}var e="$$sharedControllers",f=a.module("ng");f.directive("ngmSharedController",["$controller",function(a){return{scope:!0,compile:function(b,e){var f=e.ngmSharedController,g=d(f),h=function(d){for(var e in g)d[e]=c(d.$root,g[e],a,b)};return{pre:h}}}}])}(b),function(a,b){function c(b){function c(a){var c=j[j.length-1];c.callback&&b.$apply(function(){c.callback.apply(this,arguments)}),a.preventDefault()}function d(){if(!a.mobile.firstPage)return b.$on("jqmInit",d),void 0;if(j.length>0){var c=j[j.length-1],e=c.msg;e?a.mobile.loading("show",{text:e,textVisible:!!e}):a.mobile.loading("show")}else a.mobile.loading("hide")}function e(){var a,b;"string"==typeof arguments[0]&&(a=arguments[0]),"function"==typeof arguments[0]&&(b=arguments[0]),"function"==typeof arguments[1]&&(b=arguments[1]),j.push({msg:a,callback:b}),d()}function f(){j.pop(),d()}function g(a,b){a.then(b,b)}function h(a,b){e(b),g(a,function(){f()})}function i(b,c,d){d||(d=a.mobile.loader.prototype.options.textWithCancel),e(d,function(){b.reject(c)}),g(b.promise,function(){f()})}var j=[];return a(document).delegate(".ui-loader","vclick",c),a.mobile.loader.prototype.options.textWithCancel||(a.mobile.loader.prototype.options.textWithCancel="Loading. Click to cancel."),a(document).on("pageshow","div",function(){d()}),{show:e,hide:f,waitFor:h,waitForWithCancel:i}}var d=b.module("ng");d.factory("$waitDialog",["$rootScope",c])}(a,b),function(a,b){function c(a){return function(b,c,d){if(!b)return b;if(!c)throw new Error("Missing pager property");var e=this,f=e[c];f||(f=e[c]={loadMore:function(){this.loadMoreCalled=!0}});var g=d?+d:a,h=f.endIndex||g;return f.loadMoreCalled&&(f.loadMoreCalled=!1,h+=g),h>=b.length&&(h=b.length),g>h&&(h=g),f.hasMore=h<b.length,f.endIndex=h,f.cache=b.slice(0,h),f.cache}}c.$inject=["defaultListPageSize"];var d=b.module(["ng"]);d.constant("defaultListPageSize",10),d.filter("paged",c)}(a,b)});